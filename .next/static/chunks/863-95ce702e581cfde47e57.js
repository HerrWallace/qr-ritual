(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[863],{9592:function(e,t,n){"use strict";n.d(t,{CG:function(){return i},yz:function(){return a},zt:function(){return s},Jl:function(){return c},CT:function(){return o},Vi:function(){return l}});var r=n(4314),i=function(e){return r.Z.post("page/",e)},a=function(e){return r.Z.patch("page/",e)},s=function(e){return r.Z.get("page/",{params:e})},c=function(){return r.Z.get("nationalities/")},o=function(e){return r.Z.delete("page/",{params:{page:e}})},l=function(e){for(var t=new FormData,n=0;n<e.length;n++)t.append(n.toString(),e[n]);return r.Z.post("files/",t)}},3353:function(e,t,n){"use strict";n.d(t,{a:function(){return $}});var r=n(4942),i=n(7294),a=n(4051),s=n(1555),c=n(1945),o=n(2283),l=n(5861),u=n(2982),d=n(7757),f=n.n(d),p=n(9592),_=n(1),v=n(2379),h=n(4177),m=n.n(h),b="/_next/static/image/public/images/image_user.4f4a35efebc4b8740bcc40ca7cd15150.jpg",g=n(5893),y=function(e){var t=e.images,n=e.setImages,r=e.mainImage,a=e.setMainImage,s=(0,i.useRef)(null);(0,i.useEffect)((function(){var e;return null===(e=s.current)||void 0===e||e.addEventListener("change",o),function(){var e;null===(e=s.current)||void 0===e||e.removeEventListener("change",o)}}));var o=function(){var e=(0,l.Z)(f().mark((function e(r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Vi)(null===(i=r.target)||void 0===i?void 0:i.files).then((function(e){!t.length&&a(e.data[0].id),n([].concat((0,u.Z)(t),(0,u.Z)(e.data)))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[t[0]?(0,g.jsxs)("div",{className:m().carousel,children:[(0,g.jsx)("div",{className:m().carousel_items,children:t.map((function(e,i){return(0,g.jsxs)("div",{style:{transform:"translate(".concat(i/(t.length-1)*15,"px, ").concat(i/(t.length-1)*15,"px)"),zIndex:10-i},className:m().item,children:[(0,g.jsxs)("div",{className:m().block_point,children:[(0,g.jsx)(v.X,{onClick:function(){return function(e){return a(e)}(e.id)},active:r==e.id}),(0,g.jsx)("p",{className:m().set_main_photo,children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u044b\u043c"})]}),(0,g.jsx)("img",{src:(0,_.v)(e.url),onClick:function(e){return function(e,r){0==r&&n([].concat((0,u.Z)(t.slice(1,t.length)),[t[0]]))}(0,i)}})]},e.id)}))}),(0,g.jsx)("div",{className:m().width})]}):(0,g.jsx)("div",{className:m().no_image,children:(0,g.jsx)("img",{src:b,alt:""})}),(0,g.jsxs)("div",{className:m().btn_group,children:[(0,g.jsx)("input",{ref:s,type:"file",multiple:!0,style:{display:"none"},accept:"image/*"}),(0,g.jsx)(c.Z,{className:m().btn,onClick:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.click()},children:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})]})]})},j=n(5902),x=n(9257),O=n(1474),w=n(4184),N=n.n(w),Z=n(8072),P=n.n(Z);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=e.placeholder,n=void 0===t?"":t,r=e.title,a=void 0===r?"":r,s=e.register,c=void 0===s?null:s,o=e.disabled,l=void 0!==o&&o,u=e.password,d=void 0!==u&&u,f=e.className,p=void 0===f?"":f,_=e.as,v=void 0===_?"input":_,h=e.type,m=void 0===h?"text":h;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:P().field,children:[i.createElement(v,S(S({},c),{},{op:d?"password":null,className:N()(p,P().field_input),autoComplete:"off",disabled:l,type:m,placeholder:n})),(0,g.jsx)("span",{children:a})]})})},C=n(7819),E=n.n(C);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return{display:"flex",alignItems:"center",":after":{content:"''",height:20,width:20,display:"inline-block",backgroundImage:"url(".concat((0,_.v)(e),")"),backgroundSize:20,marginLeft:10}}},V={option:function(e,t){var n=t.data;return T(T({},e),L(n.icon))},singleValue:function(e,t){var n=t.data;return T(T({},e),L(n.icon))}},F=function(e){var t=e.biographyForm,n=e.onChangeNational,r=e.defaultNationality,i=[{name:"name",title:"\u0418\u043c\u044f:",valid:x.C1},{name:"surname",title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:",valid:x.C1},{name:"otchestvo",title:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e:",valid:x.C1},{name:"place_of_birth",title:"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:",valid:x.C1},{name:"place_of_death",title:"\u041c\u0435\u0441\u0442\u043e \u0441\u043c\u0435\u0440\u0442\u0438:",valid:x.C1},{name:"date_of_birth",title:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:",type:"date",className:E().single_line_field,valid:T(T({},x.hT),x.C1)},{name:"date_of_death",title:"\u0414\u0430\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438:",type:"date",className:E().single_line_field,valid:T(T({},x.hT),x.C1)}];return(0,g.jsx)("div",{className:E().container,children:(0,g.jsx)(O.l,{valid:t,fields:i,Input:D,children:(0,g.jsx)(j.Z,{className:E().nationaly,placeholder:"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c",defaultValue:r,cacheOptions:!0,defaultOptions:!0,onChange:n,loadOptions:function(e,t){(0,p.Jl)().then((function(e){t(e.data.nationalities.map((function(e){return{value:e.id,label:e.name,icon:e.icon}})))}))},styles:V})})})},R=n(8019),z=n.n(R),M=n(6066),B=n(1731),G=n.n(B),X=(n(3043),n(6326),n(8039)),A=n.n(X),H=function(){return(0,g.jsxs)("div",{className:A().lds_ring,children:[(0,g.jsx)("div",{}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{})]})};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},q=function(e){var t=e.videos,n=e.setVideos,r=(0,i.useRef)(null);(0,i.useEffect)((function(){var e;return null===(e=r.current)||void 0===e||e.addEventListener("change",a),function(){var e;null===(e=r.current)||void 0===e||e.removeEventListener("change",a)}}));var a=function(){var e=(0,l.Z)(f().mark((function e(r){var i,a,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.target.files.length,s=Array(a).fill({isLoading:!0}),n([].concat((0,u.Z)(t),(0,u.Z)(s))),e.next=5,(0,p.Vi)(null===(i=r.target)||void 0===i?void 0:i.files).then((function(e){console.log(e.data),n([].concat((0,u.Z)(t),(0,u.Z)(e.data)))})).catch((function(){n(t.filter((function(e){return!(null!==e&&void 0!==e&&e.isLoading)})))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:G().carousel,children:[(0,g.jsx)(M.Z,Q(Q({},Y),{},{children:t.map((function(e,t){return null!==e&&void 0!==e&&e.isLoading?(0,g.jsx)("div",{className:G().item,children:(0,g.jsx)("span",{children:(0,g.jsx)(H,{})})},t):(0,g.jsx)("div",{className:G().item,children:(0,g.jsx)("div",{className:G().content,children:(0,g.jsx)("video",{src:(0,_.v)(e.url),controls:!0})})},e.id)}))})),(0,g.jsx)("input",{ref:r,type:"file",multiple:!0,style:{display:"none"},accept:"video/*"}),(0,g.jsx)(c.Z,{onClick:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.click()},className:G().btn_video+" "+G().btn,children:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e"})]})},K=n(8106);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){var t,n=e.page,r=e.onSubmit,l=(0,o.cI)({defaultValues:n?{name:n.name,otchestvo:n.otchestvo,surname:n.surname,date_of_birth:n.date_of_birth,date_of_death:n.date_of_death,place_of_birth:n.place_of_birth,place_of_death:n.place_of_death}:void 0}),u=(0,o.cI)({defaultValues:n?{biography:n.biography,facts:n.facts}:void 0}),d=(0,i.useState)(n?n.coords:[]),f=d[0],p=d[1],_=(0,i.useState)(n?n.nationality.id:void 0),v=_[0],h=_[1],m=(0,i.useState)(n?n.pictures:[]),b=m[0],j=m[1],x=(0,i.useState)(n?n.videos:[]),O=x[0],w=x[1],N=(0,i.useState)(n?null===(t=n.avatar)||void 0===t?void 0:t.id:0),Z=N[0],P=N[1],k=(0,i.useState)(!1),S=k[0],C=k[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(a.Z,{lg:2,xs:1,children:[(0,g.jsx)(s.Z,{children:(0,g.jsx)(y,{images:b,setImages:j,mainImage:Z,setMainImage:P})}),(0,g.jsx)(s.Z,{children:(0,g.jsx)(F,{defaultNationality:n?{value:n.nationality.id,label:n.nationality.name,icon:n.nationality.icon}:void 0,biographyForm:l,onChangeNational:function(e){h(e.value)}})})]}),(0,g.jsx)(q,{videos:O,setVideos:w}),(0,g.jsxs)(a.Z,{className:z().description_container,children:[(0,g.jsx)(s.Z,{xs:12,md:8,children:(0,g.jsx)(D,{as:"textarea",register:u.register("biography"),className:z().biography,title:"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f:",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0431\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044e"})}),(0,g.jsx)(s.Z,{xs:12,md:4,children:(0,g.jsx)(D,{as:"textarea",register:u.register("facts"),className:z().facts,title:"\u042d\u043f\u0438\u0442\u0430\u0444\u0438\u044f:",placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u0440\u043e\u0442\u043a\u0443\u044e \u0438 \u0442\u0440\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u044d\u043f\u0438\u0442\u0430\u0444\u0438\u044e"})})]}),(0,g.jsxs)("div",{className:z().map_container,children:[(0,g.jsx)("p",{children:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"}),(0,g.jsx)(K.D,{isForm:!0,handleChange:p,coordinates:f})]}),(0,g.jsx)("div",{className:z().send_container,children:(0,g.jsx)(c.Z,{className:z().btn_send,onClick:l.handleSubmit((function(e){if(!O.some((function(e){return e.isLoading}))&&!S){C(!0);var t=b.map((function(e){return e.id})),n=O.map((function(e){return e.id}));r(W(W(W({},e),u.getValues()),{},{coords:f,nationality:v,pictures:t,videos:n,avatar:Z})).catch((function(){return C(!1)}))}})),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})}},4544:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(4501),i=n.n(r),a="/_next/static/image/public/images/logo.8eeecd5c1970ccb0faf0cfead36e4233.png",s=n(1664),c=n(4184),o=n.n(c),l=n(5893),u=function(e){var t=e.color,n=void 0===t?"white":t;return(0,l.jsxs)("div",{className:o()(i().logo,i()[n]),children:[(0,l.jsx)("img",{src:a}),(0,l.jsx)(s.default,{href:"/",children:"Ritual"})]})}},8106:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(8112),i="/_next/static/image/public/icons/placemarker.aedba927f5f456d70b48b800c550e7a9.svg",a=n(5893),s=function(e){var t=e.isForm,n=void 0!==t&&t,s=e.handleChange,c=e.coordinates,o=void 0===c?[]:c;return(0,a.jsx)(r.Yy,{query:{apikey:"31429c36-3280-488e-8552-058d0833ce7a",mode:"release"},children:(0,a.jsx)(r.D5,{width:"100%",height:"400px",defaultState:{yandexMapAutoSwitch:!0,maxZoom:5,center:[55.75,37.57],zoom:9},instanceRef:function(e){e&&n&&s&&(e.cursors.push("pointer"),e.events.add("click",(function(e){s(e.get("coords"))})))},children:o?(0,a.jsx)(r.ah,{options:{iconLayout:"default#image",iconImageHref:i,iconImageOffset:[-17,-38]},geometry:o}):null})})}},783:function(e,t,n){"use strict";n.d(t,{G:function(){return O}});var r=n(4942),i=n(4184),a=n.n(i),s=n(4651),c=n(682),o=n(1945),l=n(8616),u=n(1667),d=n.n(u),f=n(1664),p=n(4544),_=n(7007),v=n(7841),h=n(7294),m=n(3205),b=n(5893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=[{title:"\u041c\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",pathname:"/cabinet"},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",pathname:"/cabinet/create"},{title:"\u041c\u043e\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",pathname:"/cabinet/pages"},{title:"\u0422\u0435\u0445\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",pathname:"/cabinet/supporting"}],x=[{title:"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442?",url:"/info/how-it-works"},{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",url:"/info/contacts"}],O=function(){var e=(0,s.useRouter)(),t=(0,m.v)(),n=(0,_.I0)();return(0,h.useEffect)((function(){null===t||void 0===t||t.setModal(y(y({},t.state),{},{isShow:!1}))}),[]),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:d().navbar,children:(0,b.jsxs)(c.Z,{className:d().navbar_content,children:[(0,b.jsx)(p.T,{}),(0,b.jsx)("div",{className:d().navbar_items,children:x.map((function(e,t){return(0,b.jsx)(f.default,{href:e.url,children:e.title},t)}))}),(0,b.jsx)(o.Z,{variant:"outline-light",onClick:function(){n((0,v.kS)()),e.push("/")},children:(0,b.jsx)("img",{src:l.Z.src})})]})}),(0,b.jsx)("div",{className:d().cabinet_navbar,children:(0,b.jsx)("ul",{className:d().items,children:j.map((function(t,n){return(0,b.jsx)("li",{onClick:function(){return n=t.pathname,e.push(n);var n},className:a()((0,r.Z)({},d().active,t.pathname==e.pathname)),children:t.title},n)}))})})]})}},3484:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4184),i=n.n(r),a=(n(7294),n(5920)),s=n.n(a),c=n(5893),o=function(e){var t=e.children,n=e.align,r=void 0===n?"start":n;return(0,c.jsx)("h1",{className:i()(s().title,s()[r]),children:t})}},1:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=function(e){return"https://ritual-4kgh.onrender.com"+e}},8616:function(e,t){"use strict";t.Z={src:"/_next/static/image/public/icons/exite.37757b112889c23a5222bd6b9ed8884b.svg",height:22,width:23}},4177:function(e){e.exports={carousel:"style_carousel__2S9Pv",item:"style_item__21bJS",point:"style_point__1ZKbO",active:"style_active__1u2d6",block_point:"style_block_point__32wEc",width:"style_width__6BZo9",btn_group:"style_btn_group__3RtcL",btn:"style_btn__cbRtU",no_image:"style_no_image__3ZrFI",set_main_photo:"style_set_main_photo__14QrZ"}},1731:function(e){e.exports={item:"style_item__1hkZV",content:"style_content__6INZ2",carousel:"style_carousel__3HCNH",btn:"style_btn__2rByh",btn_video:"style_btn_video__3XnQ_"}},7819:function(e){e.exports={container:"style_container__22ztX",nationaly:"style_nationaly__3tEhm",single_line_field:"style_single_line_field__1LFWd"}},8072:function(e){e.exports={field:"style_field__kYXMk",field_input:"style_field_input__3K9BD",icon:"style_icon__ySjZa"}},8019:function(e){e.exports={biography:"style_biography__26klx",facts:"style_facts__2vSGN",map_container:"style_map_container__2oNb6",description_container:"style_description_container__1IZ5G",send_container:"style_send_container__2ALaB",btn_send:"style_btn_send__3rE7_"}},8039:function(e){e.exports={lds_ring:"style_lds_ring__9zx_k"}},4501:function(e){e.exports={logo:"style_logo__1OPv_",gray:"style_gray__bheLO"}},1667:function(e){e.exports={navbar:"style_navbar__3Zx__",navbar_content:"style_navbar_content__2NT2V",navbar_items:"style_navbar_items__TRTqF",cabinet_navbar:"style_cabinet_navbar__1pW6l",items:"style_items___rvon",active:"style_active__3x7Bi"}},5920:function(e){e.exports={title:"style_title__1NYvy",start:"style_start__3t7QM",center:"style_center__lSIPU",end:"style_end__lvG92"}}}]);